@import 'reset'
$b-basic: #E5D0AC
$b-dark: #794E28
$b-garnish: #D2B58B
$light-text: #F2EFE4
$highlight: #DDB853
$hl-dark: #aa8523
$pebbles: #5F6573

$greyed-out: #777
$fancy-text-col: $b-dark
$ftc-lite: #9b6f4a
$ftc-lighter: #bd8f6d

$radius: 4px

@mixin step-box($width)
  max-width: $width
  margin: auto
  padding: 60px
  border: 1px solid $b-garnish

@mixin basic-button($col)
    border: none
    color: $light-text
    background: $col
    padding: 10px

$err-col: #AD0008
$err-bak: lightsalmon
$err-garnish: darksalmon

$succ-col: #4F8A10
$succ-bak: #DFF2BF
$succ-garnish: #95a37d

@mixin flash($col, $bak)
  display: block
  margin: 5px 0
  padding: 12px
  background: $bak
  color: $col


html
  font-family: 'Raleway', sans-serif
  background: $b-basic

.top-banner
  background-image: image-url('pink_sky.jpg')
  background-position: 60%
  .banner-overlay
    box-sizing: border-box
    padding-top: 70px
    background-color: rgba(100, 200, 100, 0.4)
    height: 100%
    h2,
    h1
      text-align: center
      color: $light-text
    h1
      font-size: 3rem
    h2
      font-size: 2rem
      margin-bottom: 110px
    h3
      font-size: 1.2rem
      padding: 0 40px
    button
      @include basic-button($fancy-text-col)

#greeting
  background: $b-garnish
  padding: 60px 0
  border-radius: $radius
  max-width: 800px
  margin: auto
  margin-bottom: 60px
  text-align: center
  h2
    color: $b-dark
    padding-bottom: 20px
  p
    font-size: 1.2rem
    color: $light-text


.main-navbar
  color: $pebbles
  $light-text-space: nowrap
  width: 100%
  border-bottom: 1px solid $pebbles
  padding: 20px 0 0 0
  font-size: 1.1em
  li
    margin-right: 20px
    margin-bottom: 10px
  aside
    float: right
    text-align: right
    div
      display: inline-block
      margin-left: 40px
    .amount
      font-weight: bolder
      padding-left: 5px
      border-left: 1px solid $pebbles
    .cart-info
      color: $light-text
  ul.main
    $light-text-space: normal
    margin: 0 290px 10px 20px
  li,
  ul,
  aside,
    display: inline-block

h1
  font-size: 2.4em
  color: $fancy-text-col
  font-weight: bold

h2
  font-size: 2rem

h3
  font-size: 1.5rem
  color: $fancy-text-col
  font-weight: bold

h4
  font-size: 1.2rem
  font-weight: bold

p,
tbody
  font-size: 1em
  line-height: 1.5em

a
  text-decoration: none
  color: $fancy-text-col

img
  //border: 8px solid #888
  //box-sizing: border-box
  border-radius: 4px

input,
select
  background: $light-text

button.primary,
.continue.button,
.cart-button
  @include basic-button($fancy-text-col)
  margin-top: 15px

.button
  padding: 10px

input.button.primary
  @include basic-button($fancy-text-col)

#wrapper
  padding-top: 40px
  padding-bottom: 200px

.line_item_quantity,
#wrapper #quantity
    padding: 10px 5px
    border-radius: 0
    border: none
    border-left: 1px solid #dedede
    border-top: 1.5px solid #ccc
    background: $light-text

h3.home
  font-size: 2rem
  color: $b-dark
  text-align: center
  padding: 20px
  margin: 0 25px
  border-bottom: 1px solid $b-dark

[data-hook="homepage_products"]
  #welcome-wrapper
    #welcome-banner
      width: 100%
      background-image: image-url('rails.jpg')
      background-size: cover
      background-position: center
      text-align: center
      height: 400px
      margin-top: -40px
      margin-bottom: 70px
      .overlay
        height: 100%
        width: 100%
        background-color: rgba(121,	78,	40, 0.6)
        //background-color: rgba(221,	184,	83, 0.7)
        //background-color: $highlight
        color: $highlight
        h2
          width: 400px
          margin: auto
          font-weight: bold
          padding-top: 130px
          font-size: 2.8rem
        p
          font-size: 1.8rem
  .taxon
    margin-bottom: 60px

[data-hook="taxon_products"]
  #products
    justify-content: flex-start
    li
      max-width: 240px
      .product-image

#products
  display: flex
  margin: auto
  flex-wrap: wrap
  justify-content: space-between
  margin-top: 30px
  li
    border-radius: $radius
    background: $b-garnish
    flex-grow: 1
    display: flex
    justify-content: center
    align-items: center
    flex-direction: column
    margin: 0 25px 40px 25px
    .product-image
      width: 100%
      margin-bottom: 5px
      img
        width: 100% !important

    a
      text-align: center
    .price-holder
      text-align: center
      margin-top: 15px
    #quantity
      display: none
    #cart-form
      width: 100%
      #add-to-cart-button
        width: 100%
        border-radius: 0 0 $radius $radius


#breadcrumbs
  max-width: 100%
  margin-left: 30px
  margin-bottom: 40px
  li
    display: inline-block

h1.taxon-title
  margin-left: 30px

#product-details
  #wrapper
    background: $b-garnish
    padding-left: 70px
    padding-right: 70px
    min-height: 600px
    #breadcrumbs
      margin-left: 0px
    #content.columns.sixteen
      h1
        margin-bottom: 60px
    .columns.six.alpha
      margin-right: 80px
      margin-bottom: 60px
      float: left
      .tmb-all.tmb-1
        display: inline-block
        margin: 20px 0 0 20px
      #product-thumbnails
        li
          margin: 15px 40px 0 0
          display: inline-block
          img
            border-radius: 5px
    .columns.ten.omega
      margin-left: 600px
      .column-holder
      #product-price
        font-size: 1.2em
        color: $ftc-lite
        margin-bottom: 20px
      [itemprop="description"]
        margin-bottom: 20px
      #inside-product-cart-form
        margin-top: 20px
      td
        padding-right: 20px


#footer
  clear: both
  background: $b-dark
  padding-bottom: 10px
  .content-wrapper
    padding-top: 100px
    display: flex
    justify-content: space-around
    .sustainability,
    .contact
      color: $light-text
      h6
        font-size: 1.3rem
        padding-bottom: 30px
        border-bottom: 1px solid $light-text
      ul
        margin-top: 20px
        margin-bottom: 70px
        li
          font-size: 1rem
          padding: 10px
  #page-top
    display: block
    color: $light-text
    padding: 20px
    text-align: right



body#cart
  #content
    @include step-box(900px)

h1.cart
  text-align: center
  margin-bottom: 100px

#cart-detail
  width: 100%
  tr
    border-bottom: 1px solid $b-garnish
    td,
    th
      padding: 10px
    td
      vertical-align: middle
    .cart-item-description
      width: 290px
  .cart-total
    border-bottom: none

.links.columns.sixteen.alpha.omega
  margin-top: 40px
  #update-button
    float: right
    margin-right: 60px
  input
    background: $light-text
    border: 1px solid $b-garnish
    padding: 10px

#empty-cart
  margin-top: 120px
  input.button
    @include basic-button($fancy-text-col)
.empty-cart-warning
  p
    margin-bottom: 30px

@mixin user-related($bor, $bak)
  h6,
  .button
    border-bottom: 1px solid $bor
    background: $bak
  .button
    border: 1px solid $bor
  h6
    font-size: 1.3rem
    text-align: center
    padding: 20px
    margin-bottom: 20px
    color: $light-text
  input,
  select
    margin-bottom: 20px
    border-radius: 0
    border: 1px solid $b-garnish
    padding: 10px

div.registration-holder,
#checkout
  max-width: 1100px
  margin: auto
  #checkout-information
    border: 1px solid $b-garnish
    h1
      text-align: center
      border-bottom: 1px solid $b-garnish
      padding: 20px
      background: $b-garnish
    input,
    select
      margin-bottom: 20px
      border-radius: 0
      border: 1px solid $b-garnish
      padding: 10px
    select
      -moz-appearance: none
      -webkit-appearance: none
      background-image: image-url('select_arrows.png')
      background-position: 99% center
      background-repeat: no-repeat
      background-size: 15px 15px
    form
      margin-bottom: 60px
    label.error
      //@include flash($err-col, $err-bak)
      //box-sizing: border-box
      //margin-top: -10px
      //width: 250px
    .unfilled
      border: 1px solid red

#registration
  padding: 50px 50px 100px 50px
  display: flex
  justify-content: space-evenly
  #account,
  #guest_checkout
  #account
    @include user-related($b-dark, $b-dark)
  #guest_checkout
    @include user-related($b-dark, $b-dark)
  .back-link
    display: none

.progress-steps
  display: flex
  justify-content: space-between
  margin-bottom: 30px
  li
    width: 20%
    @include basic-button($greyed-out)
    padding: 20px 10px
    text-align: center
    border-right: 1px solid $light-text
  li.current-first,
  li.current
      background: $ftc-lite
  li.completed-first,
  li.completed
    background: $b-dark
    a
      color: $light-text
    a::after
      display: inline-block
      margin-left: 5px
      width: 10px
      height: 10px
      content: '   '
      background: image-url('tick.png')
      background-size: contain

  li:last-child
    border: none

@mixin devise-interface($bor, $bak)
  @include user-related($bor, $bak)
  padding-bottom: 30px
  margin: 70px 0 40px 0
  border-bottom: 1px solid $b-dark

legend
  font-size: 1.5rem
  color: $fancy-text-col
  text-align: left
  padding: 0 8px

#content > .login-holder
  max-width: 400px
  margin: auto
  #forgot-password,
  #new-customer,
  #existing-customer
    @include devise-interface($b-dark, $b-dark)
  #forgot-password > p
    margin-bottom: 15px

#checkout_form_address
  margin: 0 60px
  p.field
    margin-bottom: 30px
  legend
    float: left
  #shipping,
  #billing
    border: 1px solid $b-garnish
    width: 340px
    padding: 30px
    margin-bottom: 70px
    p
      margin-bottom: 30px
  #shipping
    .field.checkbox
      margin-left: 110px
      font-size: 0.7rem
      margin-top: 30px
      margin-bottom: 20px
      #use_billing
        vertical-align: 4px
  #billing
    float: left
    margin-right: 80px
    .inner
      padding-top: 90px
  hr.clear
    visibility: hidden
  .columns.omega.six
    min-height: 1242px

@mixin block-heading
  text-align: center
  box-sizing: border-box
  background: $fancy-text-col
  color: $light-text
  padding: 15px
  border-bottom: 1px solid $light-text

#checkout_form_delivery
  #shipping_method
    @include step-box(700px)
    h5,
    h3
      @include block-heading
    table
      margin-bottom: 60px
      width: 100%
      th,
      td
        padding: 10px
      th
        background: $b-garnish
      td
        border-bottom: 1px solid $b-garnish
        vertical-align: middle
    ul
      margin-top: 20px
      li
        margin-bottom: 10px
        border-bottom: 1px solid $b-garnish
  div.form-buttons
    max-width: 822px
    margin: auto

#checkout_form_payment
  #payment
    @include step-box(700px)
  div.form-buttons
    max-width: 822px
    margin: auto
  p
    margin-bottom: 20px

#checkout_form_confirm
  #order_details
    @include step-box(870px)
    .row.steps-data
      display: flex
      margin-bottom: 40px
      .columns.omega.four,
      .columns.alpha.four
        font-size: 0.8rem
        margin: 0 8px
        h6
          font-weight: bold
          padding-bottom: 6px
          border-bottom: 1px solid $b-garnish
          margin-bottom: 10px
        div
          br
            margin: 3px 0
          div
            margin: 6px 0
  hr
    visibility: hidden
  table
    th
      @include block-heading
    th,
    td
      vertical-align: middle
      padding: 10px
      h4
        color: $fancy-text-col
        font-weight: bold
    tbody
      tr
        border-bottom: 1px solid $b-garnish
    tfoot
      td
        text-align: right
    tfoot#subtotal,
    tfoot#order-total
      font-size: 1.3rem
      b
        font-weight: 400
    tfoot#tax-adjustments,
    tfoot#shipment-total
      color: #666
      font-size: 1rem
  div.form-buttons
    max-width: 992px
    margin: auto

#checkout-summary
  max-width: 980px
  margin: auto
  text-align: center
  margin-bottom: 100px
  h3
    @include block-heading
    font-size: 1.2rem
  table
    width: 100%
    tr
      border-bottom: 1px solid $light-text
    td
      text-align: right
      border-bottom: 1px solid $b-garnish
      padding: 10px
      width: 50%

.user-info
  @include user-related($b-dark, $b-dark)
  border-left: 1px solid $b-garnish
  padding-left: 30px
  margin-left: 100px
  h1
    margin-bottom: 40px
  dl
    margin-bottom: 70px
    width: 400px
    dt,
    dd
      display: inline-block
    dd
      margin-left: 30px
    dt
      font-weight: bold
  .account-my-orders
    h3
      margin-bottom: 20px

@mixin image-holder
  background-size: cover
  border-radius: 4px

$about-margin: 20px

.about-wrapper
  max-width: 90%
  margin: auto
  padding-bottom: 40px
  border-bottom: 1px solid $b-dark
  h1
    text-align: center
    margin: 40px 0
    padding-bottom: $about-margin
    border-bottom: 1px solid $b-dark
  .banner
    width: 100%
    height: 400px
    background: image-url('full_waterfall.JPG')
    @include image-holder
    margin-bottom: $about-margin
  .substantive
    display: flex
    flex-wrap: wrap
    justify-content: space-between
    .text-holder
      flex-grow: 2
      @include image-holder
      padding: 50px 100px
      width: 501px
      background: $b-garnish
      text-align: justify
      display: flex
      align-items: center
    .images
      margin-left: $about-margin
      flex-grow: 1
      width: 300px
      display: flex
      flex-wrap: wrap
      align-content: space-between
      .higher
        background: image-url('IMG_1998.jpg')
      .lower
        background: image-url('full_waterfall.JPG')
      .higher,
      .lower
        @include image-holder
        width: 100%
        height: 47.5%
  .end
    margin-top: $about-margin
    padding: 50px 100px
    background: $b-dark
    color: $light-text
    @include image-holder
    h4
      margin-bottom: $about-margin




@mixin flash-message($main, $garnish, $text)
    max-width: 900px
    margin: auto
    margin-bottom: 20px
    padding: 15px
    background: $main
    color: $text
    border-left: 8px solid $garnish
    text-align: center

#errorExplanation,
.flash.errors
  @include flash-message($err-bak,$err-garnish, $err-col)

#errorExplanation
  margin-bottom: 60px
  padding-left: 20px
  text-align: left
  h2
    display: none
  ul
    margin-left: 20px
    margin-top: 10px
    font-size: 0.7rem
    list-style-type: disc
    li
      margin: 4px


.flash.error
  @include flash-message($err-bak, $err-garnish, $err-col)

.flash.notice,
.flash.success
  @include flash-message($succ-bak, $succ-garnish, $succ-col)


@media only screen and (max-width: 1149px)
  #product-details
    #wrapper
      [data-hook="product_show"]
        width: 95%
        margin: auto
        display: flex
        flex-direction: column
        align-items: center
        .columns.six.alpha
          float: none
          margin-right: 0
        .columns.ten.omega
          margin-left: 0
          width: 600px
          padding-left: 0
      #breadcrumbs
        width: 600px
        margin: auto
        margin-bottom: 30px
  .about-wrapper
    .substantive
      .images
        margin-top: $about-margin
        margin-left: 0
        width: 100%
        height: 230px
        .higher,
        .lower
          flex-grow: 1
          height: 100%
          width: 45%
        .higher
          margin-right: $about-margin
